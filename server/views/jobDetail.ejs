<!DOCTYPE html>
<html lang="en">

<head>
	<%- include layout/head %>
		<link rel="stylesheet" type="text/css" href="/css/main.css">
		<link rel="stylesheet" type="text/css" href="/css/jobDetail.css">
</head>

<body>
	<header>
		<%- include layout/header %>
	</header>
	<main>
		<div class="main-container">
			<div class="basic-info">
				<div class="basic-info-row">
					<div class="basic-info-title">
						<div class="basic-info-job-title">
							<h1>
								<%= jobDetail.title %>
							</h1>
						</div>
						<div class="basic-info-company-title">
							<img src=<%=jobDetail.logo_image %> >
							<a href="/company/<%= jobDetail.company_id %>">
								<%= jobDetail.brand %>
							</a>
						</div>
					</div>
					<div class="basic-info-content">
						<div class="basic-info-main_image">
							<img src=<%=jobDetail.banner_image %>>
						</div>
						<div class="basic-info-column">
							<div class="basic-info-container">
								<div class="job-basic-info-type">
									<svg width="32px" height="32px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
										<title />
										<g data-name="Layer 2" id="Layer_2">
											<path d="M16,14a6,6,0,1,1,6-6A6,6,0,0,1,16,14ZM16,4a4,4,0,1,0,4,4A4,4,0,0,0,16,4Z" />
											<path
												d="M24,30H8a2,2,0,0,1-2-2V22a7,7,0,0,1,7-7h6a7,7,0,0,1,7,7v6A2,2,0,0,1,24,30ZM13,17a5,5,0,0,0-5,5v6H24V22a5,5,0,0,0-5-5Z" />
										</g>
									</svg>
									<a href="/jobs?jobType[]=<%= jobDetail.job_type %>">
										<%= jobDetail.job_type %>
									</a>
								</div>
								<div class="job-basic-info-location">
									<svg width="16px" height="16px" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg">
										<g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
											transform="translate(4 2)">
											<path
												d="m6.5 16.5407715.6311176-.7118691c.71585099-.8191184 1.36011688-1.5983525 1.93279767-2.3377022l.4733382-.6239608c1.97516433-2.6615039 2.96274653-4.77276704 2.96274653-6.33378943 0-3.33218241-2.6862915-6.03344997-6-6.03344997s-6 2.70126756-6 6.03344997c0 1.56102239.98758218 3.67228553 2.96274653 6.33378943l.4733382.6239608c.73630387.9505925 1.5909423 1.9671163 2.56391527 3.0495713z">
											</path>
											<circle cx="6.5" cy="6.5" r="2.5"></circle>
										</g>
									</svg>
									<a href="/jobs?location[]=<%= jobDetail.location %>">
										<%= jobDetail.location %>
									</a>
								</div>
								<div class="job-basic-info-catergory">
									<svg width="16px" height="16px" viewBox="0 0 35 35" data-name="Layer 2" id="e73e2821-510d-456e-b3bd-9363037e93e3"
										xmlns="http://www.w3.org/2000/svg">
										<path
											d="M11.933,15.055H3.479A3.232,3.232,0,0,1,.25,11.827V3.478A3.232,3.232,0,0,1,3.479.25h8.454a3.232,3.232,0,0,1,3.228,3.228v8.349A3.232,3.232,0,0,1,11.933,15.055ZM3.479,2.75a.73.73,0,0,0-.729.728v8.349a.73.73,0,0,0,.729.728h8.454a.729.729,0,0,0,.728-.728V3.478a.729.729,0,0,0-.728-.728Z">
										</path>
										<path
											d="M11.974,34.75H3.52A3.233,3.233,0,0,1,.291,31.521V23.173A3.232,3.232,0,0,1,3.52,19.945h8.454A3.232,3.232,0,0,1,15.2,23.173v8.348A3.232,3.232,0,0,1,11.974,34.75ZM3.52,22.445a.73.73,0,0,0-.729.728v8.348a.73.73,0,0,0,.729.729h8.454a.73.73,0,0,0,.728-.729V23.173a.729.729,0,0,0-.728-.728Z">
										</path>
										<path
											d="M31.522,34.75H23.068a3.233,3.233,0,0,1-3.229-3.229V23.173a3.232,3.232,0,0,1,3.229-3.228h8.454a3.232,3.232,0,0,1,3.228,3.228v8.348A3.232,3.232,0,0,1,31.522,34.75Zm-8.454-12.3a.73.73,0,0,0-.729.728v8.348a.73.73,0,0,0,.729.729h8.454a.73.73,0,0,0,.728-.729V23.173a.729.729,0,0,0-.728-.728Z">
										</path>
										<path
											d="M27.3,15.055a7.4,7.4,0,1,1,7.455-7.4A7.437,7.437,0,0,1,27.3,15.055Zm0-12.3a4.9,4.9,0,1,0,4.955,4.9A4.935,4.935,0,0,0,27.3,2.75Z">
										</path>
									</svg>
									<a class="job-card-category-item" href="/jobs?category[]=<%= jobDetail.category %>">
										<%= jobDetail.category %>
									</a>
									<a class="job-card-category-item" href="/jobs?position[]=<%= jobDetail.position %>">
										<%= jobDetail.position %>
									</a>
								</div>
								<% if (jobDetail.tags[0]) {%>
									<div class="job-basic-info-tags">
										<svg width="16px" height="16px" viewBox="0 0 32 32" id="i-tag" xmlns="http://www.w3.org/2000/svg" fill="none"
											stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
											<circle cx="24" cy="8" r="2"></circle>
											<path d="M2 18 L18 2 30 2 30 14 14 30 Z"></path>
										</svg>
										<% for(let tag of jobDetail.tags) { %>
											<a href="/jobs?tag[]=<%= tag %>" class="job-tag">
												<%= tag%>
											</a>
											<% } %>

									</div>
									<% } %>
										<div class="job-basic-update-time">
											<p class="job-basic-update-time-text">
												<% let updateTime=new Date(jobDetail.update_at)%>
													最後更新於 <%= updateTime.getFullYear() %>-<%= (updateTime.getMonth()+1).toString().padStart(2, '0' )
															%>-<%= updateTime.getDate() %>
											</p>
										</div>
							</div>
							<div class="basic-button-container">
								<a href="/application/<%=jobDetail.id%>" target="_blank">
									<div class="huge ui black button application" job-id=<%=jobDetail.id%>>
										<i class="paper plane icon"></i>
										立即應徵
									</div>
								</a>
								<a>
									<% if(!jobDetail.follow) {%>
										<div class="huge ui inverted red button follow" job-id=<%=jobDetail.id%>>
											<i class="heart outline icon"></i>
											加入收藏
											<%} else {%>
												<div class="huge ui red button followed" job-id=<%=jobDetail.id%> follow-id=<%=jobDetail.follow_id%>>
														已收藏
														<%}%>
												</div>
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="other-images-container">
			<% for (let image of jobDetail.other_images) { %>
				<div class="other-images-item"><img src=<%=image %>></div>
				<% } %>
		</div>
		<div class="main-info">
			<div class="main-info-container">
				<div class="main-info-content">
					<h2>工作內容</h2>
					<div id="job-description" class="content">
						<%- jobDetail.job_description%>
					</div>
					<h2>條件要求</h2>
					<div id="job-required" class="content">
						<%- jobDetail.skill_required%>
					</div>
					<h2>遠端型態</h2>
					<div id="job-remote" class="content">
						<strong>
							<%= jobDetail.remote_work%>
						</strong>
					</div>
					<h2>員工福利</h2>
					<div id="benifit" class="content">
						<%- jobDetail.benifit%>
					</div>
					<h2>薪資範圍</h2>
					<div id="salary-range" class="content">
						NTD. <%= thoundsAddComma(jobDetail.salary_bottom)%> ~ <%= thoundsAddComma(jobDetail.salary_top)%> (<%= jobDetail.salary_type
									%>)
					</div>

				</div>

				<div class="sidebar">
					<div class="sidebar-button-container">
						<a href="/application/<%=jobDetail.id%>" target="_blank">
							<div class="huge ui black button application" id="apply-job-btn" job-id=<%=jobDetail.id%>
								<i class="paper plane icon"></i>
								立即應徵
							</div>
						</a>
						<a>
							<% if(!jobDetail.follow) {%>
								<div class="huge ui inverted red button follow" job-id=<%=jobDetail.id%>>
									<i class="heart outline icon"></i>
									加入收藏
									<%} else {%>
										<div class="huge ui red button followed " follow-id=<%=jobDetail.follow_id%>>
											已收藏
											<%}%>
										</div>
						</a>
					</div>
				</div>
			</div>
		</div>
		</div>

	</main>
	<footer>
		<%- include layout/footer %>
			<script src="/js/jobDetail.js"></script>
	</footer>
</body>

</html>